<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Giftcard & Crypto P2P - Dashboard</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script src="assets/js/app.js" defer></script>
</head>

<body data-page="dashboard" data-title="Giftcard and Crypto marketplace"
  data-subtitle="Create offers, fund escrow, and trade safely in one place.">

  <button class="menu-btn" id="menuBtn">â˜°</button>

  <div class="app-shell" id="app">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <!-- Loaded via partial -->
    </aside>

    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- Main -->
    <main class="main-content">
      <div class="mobile-logo">
        <div class="sidebar-logo">G</div>
        <div class="logo-text">Giftcard Wave</div>
      </div>

      <header class="page-header" id="header">
        <!-- Loaded via partial -->
      </header>


      <div class="grid">
        <!-- User and Form Section -->
        <section class="card">
          <div class="wallet-user">
            <div class="row">
              <div class="avatar">U</div>
              <div>
                <div class="muted">Current user</div>
                <div class="small">
                  <strong id="username">You</strong>
                  <span class="muted">&nbsp;Real account</span>
                </div>
              </div>
            </div>
            <span class="chip">
              <span class="chip-dot"></span>
              Secure escrow
            </span>
          </div>

          <hr />

          <div>
            <label class="muted">Balances</label>
            <div class="balance-group">
              <div class="balance-card">
                <div class="balance-label">NGN</div>
                <div class="balance-value">
                  <strong id="balance-ng">0</strong>
                </div>
              </div>
              <div class="balance-card">
                <div class="balance-label">BTC</div>
                <div class="balance-value">
                  <strong id="balance-btc">0</strong>
                </div>
              </div>
              <div class="balance-card">
                <div class="balance-label">USDT</div>
                <div class="balance-value">
                  <strong id="balance-usdt">0</strong>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <div>
            <div class="card-header" style="margin-bottom: 10px">
              <div>
                <div class="card-title">Create listing</div>
                <div class="card-subtitle">
                  Publish a gift card or crypto offer to the marketplace.
                </div>
              </div>
            </div>

            <form id="createForm">
              <div style="margin-bottom: 8px">
                <label class="muted">Type</label>
                <select id="listing-type">
                  <option value="giftcard">Gift card</option>
                  <option value="crypto">Crypto</option>
                </select>
              </div>

              <div style="margin-bottom: 8px">
                <label class="muted">Asset</label>
                <input id="listing-asset" placeholder="Example: Amazon 50 USD or BTC" required />
              </div>

              <div style="margin-bottom: 8px">
                <label class="muted">Amount or quantity</label>
                <input id="listing-qty" type="number" min="1" value="1" required />
              </div>

              <div style="margin-bottom: 8px">
                <label class="muted">Price in NGN or price per unit</label>
                <input id="listing-price" type="number" min="0" step="0.01" value="1000" required />
              </div>

              <div style="margin-bottom: 8px">
                <label class="muted">Payment method</label>
                <input id="listing-payment" placeholder="Bank transfer, wallet, etc" />
              </div>

              <div>
                <label class="muted">Description</label>
                <textarea id="listing-desc" rows="3" placeholder="Short description or terms"></textarea>
              </div>

              <!-- In Laravel this form would include @csrf and an action route if you submit to backend -->

              <div style="margin-top: 10px; display: flex; gap: 8px">
                <button type="submit" class="btn btn-primary btn-sm">
                  Create offer
                </button>
                <button type="button" id="fund-btn" class="btn btn-outline btn-sm">
                  Add demo funds
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Marketplace and escrows -->
        <div style="display: flex; flex-direction: column; gap: 12px">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title">Active listings</div>
                <div class="card-subtitle">
                  Filter offers across gift cards and crypto.
                </div>
              </div>

              <div class="market-filters">
                <input id="search" placeholder="Search asset or payment method" />
                <select id="filter-type">
                  <option value="all">All</option>
                  <option value="giftcard">Gift cards</option>
                  <option value="crypto">Crypto</option>
                </select>
              </div>
            </div>

            <div id="listings" class="listings"></div>
          </div>

          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title">Recent escrows</div>
                <div class="card-subtitle">
                  Track the status of ongoing and completed trades.
                </div>
              </div>
            </div>
            <div id="escrows" class="escrow-list muted small">
              No escrows yet
            </div>
          </div>
        </div>

      </div>
    </main>
    <!-- Footer managed by app.js (moved outside main content usually, but layout matches original) -->
  </div>

  <footer class="footer" id="footer">
    <!-- Loaded via partial -->
  </footer>

  <!-- Modal: Buy / Escrow -->
  <div id="modal" class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-title" class="modal-title">Place order</h3>
      </div>
      <div id="modal-body" class="modal-body"></div>
      <div class="modal-actions">
        <button id="modal-close" class="btn btn-outline btn-sm">Close</button>
        <button id="modal-confirm" class="btn btn-primary btn-sm">
          Confirm
        </button>
      </div>
    </div>
  </div>
</body>

</html>